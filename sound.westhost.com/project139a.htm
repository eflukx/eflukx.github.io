<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="Author" content="Rod Elliott - Elliott Sound Products">
	<meta name="keywords" content="current, monitor, analyser, analyzer, hardware, software, analog, analogue, measurement, project, diy, circuit, schematic, diagram">
	<meta name="description" content="ESP Audio Projects - Current monitor ... measure the current drawn by mains appliances safely and easily with this adapter.">
	<!-- ESP Audio Projects - Current monitor ... measure the current drawn by mains appliances safely and easily with this adapter. -->
	<title>Project 139a</title>
	<link rel="StyleSheet" href="esp.css" type="text/css" media="screen, print">
	<style TYPE="text/css"><!-- td { font-size: 10pt } th { font-size: 10pt } --> </style>
	<link rel="shortcut icon" type="image/ico" href="favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<table width="100%"><tr><td><img SRC="esp.jpg" alt="ESP Logo" height=81 width=215>
<td align="right">

<script type="text/javascript"><!--
google_ad_client = "pub-1947877433449191";
/* 468x60, created 20/08/10 */
google_ad_slot = "7119701939";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</td></table>

<table WIDTH="100%" BGCOLOR="blue"><tr><td class="hdrl">&nbsp;Elliott Sound Products</td>
<td ALIGN=RIGHT class="hdrr">Project 139a&nbsp;</td></tr></table>

<p align="center"><b>Simple Mains Current Monitor</b><br />
<small>&copy; Rod Elliott, 29 October 2012</small></p>

<!-- AddThis Button BEGIN -->
<script type="text/javascript">
var addthis_config = {
    data_track_clickback: true
}
</script>

<script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
<div class="addthis_toolbox addthis_default_style">
<a href="http://addthis.com/bookmark.php?v=250&amp;username=rode"class="addthis_button_compact">Share</a>
<span class="addthis_separator">|</span>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_myspace"></a>
<a class="addthis_button_google"></a>
<a class="addthis_button_twitter"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=rode"></script>
<!-- AddThis Button END -->

<hr><b>Introduction</b> 
<p>For many people, this project may not be adequate, as it doesn't have high linearity or very wide bandwidth. Not a problem - just look at <a href="project139.htm">Project 139</a> instead. The accuracy and linearity are far better than the unit shown here, but it does have the disadvantage of needing a power supply for the electronics. If this sounds like what you need then P139 is the one for you.

<p>The project described in this article is a mains current monitor, and is as simple as it can be. All you need is a current transformer (5A nominal, 1000:1 ratio), a couple of switches, a resistor and trimpot, two diodes and necessary mains and other connectors and a case. A suitable transformer is the Nuvotem (aka Talema) AC-1005 (available from RS Components, part # 537-4485) or similar. This is a nominal 5A tranny, and they cost less than AU$4 each ... but they come in a pack of 5 which is a nuisance if you only want one. Click the part number for the datasheet for the <a href="ac-1005.pdf" target="_blank">AC-1005</a> current transformer.

<p>The real beauty of this current monitor (compared to P139) is that it does not need a power supply, and can be operated directly from a Variac without needing a separate feed to power the electronics - it doesn't have any. The only thing even resembling electronics is a resistor and trimpot to calibrate the current, plus a couple of 1N5404 diodes. It's not wonderfully linear (~4% low at 500mA vs. 5A), but for comparative measurements and general testing it will be more than acceptable. 

<p>As a service tool, a current monitor is almost indispensable, because it allows you to monitor the current drawn by the unit being tested. In conjunction with a Variac (see <a href="articles/variac.htm" target="_blank">article</a>), you can tell instantly if the <abbr title="Device Under Test">DUT</abbr> is drawing excessive current, well before you get blown fuses and/ or other additional damage. More to the point, you can do it with complete safety, because the current monitor has an output that's completely isolated from the mains.

<p>A current monitor is also ideal for monitoring a power amplifier's quiescent current. With no load, all amps will draw a small but measurable mains current. If the bias is unstable, the mains current will reflect this, without having to resort to connecting a multimeter with clip leads. Tests can be performed with the amp's cover in place so you get to see if there is any tendency towards thermal runaway with the amp operated normally. You can tell instantly if there is a major fault, because current will rise rapidly as the Variac's voltage is wound up from zero.

<p>The output can go to an RMS multimeter and/or an oscilloscope. Not only do you see the actual current waveform, but you can also take a reasonably accurate measurement. Note that with many products that draw a non-linear mains current, an ordinary (ie. not true RMS) meter will be highly inaccurate, giving a reading that may be far less than the real value. This is especially true of the typical waveforms you'll see with switching power supplies. Because these current waveforms typically consist of repeated narrow &plusmn;spikes, an average-reading meter can easily underestimate the current by a factor of four or more.

<p>Note that like its big brother (Project 139), this piece of kit is something that you <i>must</i> make for yourself if you decide that you need one. To the best of my knowledge, there is nothing like it on the market. Yes, you can get clamp meters that you might be able to modify, and current probes for oscilloscopes, but this is cheap to make, easy to use and you can measure and/or view mains current from a few milliamps up to many amps, with peak current measurements over 60 amps.</p>

<blockquote>
For monitoring current, you might think that you can just use a shunt resistor and a (mains voltage rated) transformer to isolate the voltage developed across the resistor. This way, there are no specialised parts needed at all, just a power resistor and a small transformer. The great disadvantage of this simplistic approach is that the bandwidth is <i>extremely</i> limited, and the output voltage will rarely be something sensible. For example, a 0.1 ohm resistor will develop 100mV at 1A, but there are few mains rated transformers that will give you a sensible output voltage. As it transpires, the transformer will be a specialised type, so there's little to be gained.<br /><br />

Linearity will be a lottery - you will have no idea whether it's good enough other than by running extensive tests. You can mess around with various different transformers to find something that might be alright, you will still have the problem that the power resistor will get hot, and peak current capability is limited to what the resistor can tolerate. A 5W 0.1 resistor can only withstand 700mA RMS at full power - barely enough for routine tests and it will be very hot indeed. Peak current capability is nowhere near enough to allow you to monitor (or even <i>tolerate</i>) inrush current. At a peak current of more than ~20 times the maximum RMS value the resistor may not survive, because they have a limited surge capacity before the resistance wire just thinks it's a fuse.
</blockquote>  

<hr /><b>Description</b> 
<p>Before you embark on this project, please read the section in the transformer article about <a href="xfmr2.htm#s17" target="_blank">current transformers</a>. This is important, because it gives you a lot of good background information about how a <abbr title="current transformer">CT</abbr> works and some important precautions that you need to take. This will also help you to understand why the resistor and pot are wired the way they are. Even if the trimpot were to become open-circuit (rare, but it can happen), there will always be a resistance across the CT's secondary, which prevents a high voltage being developed if there is no load. 

<p>By adding the facility for x10 gain (by means of a secondary winding of 10 turns through the core), you get two ranges - 100mV/A and 1V/A. You will be able to get reasonably accurate current readings down to well below 10mA easily (at 230V, that's a <abbr title="volt amps">VA</abbr> rating of only 2.3VA (2.3 Watts if the load is resistive or has a good power factor). Most things you need to measure will draw far more than that.

<p>A complete schematic for the unit is shown below. There's not a lot to it, but naturally electrical safety is paramount, so make sure that the wiring is safe and that there is no possibility of contact between the mains and output wiring. It's worthwhile to wire <i>everything</i> with mains rated cable so that segregation isn't made any harder than it needs to be.  

<p class="t-pic"><img src="p139a-f1.gif" border="1" /><br />Figure 1 - Schematic Of The Simple Current Monitor</p>

<p>The entire unit can be wired without any need for a circuit board of any kind (see the photo of my unit below). Make sure that you double check all mains wiring - this cannot be stressed enough. Proper segregation of high voltage (mains) and low voltage (output) wiring must be maintained unless mains rated cable is used for all wiring. Use cable ties, hot-melt glue or silicone adhesive to secure wiring, to attach anything that you don't want to float around in the case, and to secure any additional insulation that you might need.

<p>Although it is possible to connect the "earth/ground" output terminal to mains earth, I suggest that you don't do so, because you may create an earth loop and this could make very low current readings inaccurate or too noisy to be useful.

<p>If you don't want the hassle of calibration, just use a 100 ohm 1% resistor in place of R1 and VR1. You will be relying on the turns ratio of the CT so absolute accuracy is not guaranteed, but for most measurements you'll almost certainly be happy with the result. See the <a href="#ref">datasheet</a> for the AC-1005 to see the current vs. output voltage curve. You <i>can</i> use a higher value than 100 ohms - 1k will increase the sensitivity more or less tenfold, but at the expense of accuracy, maximum current, linearity and bandwidth. I don't recommend it, but it might suit your purposes. Intermediate values can also be used, but the scale becomes irksome - you don't want to have to reach for a calculator every time you want to know the current!</p>  

<table bgcolor="red" border="1">
	<tr><td><p align="center"><b>WARNING</b>
	<p align="justify">All wiring in the left side of the schematic shown in Figure 1 operates at mains voltage, and may be lethal if touched. All mains wiring must 
	be performed by a suitably qualified person, using cable that is rated for mains voltages. It may be an offence where you live to perform mains wiring if unqualified. 
	Wire diameter must be adequate to ensure that there is no possibility of overheating if the current monitor is used with the maximum available current.</p>  
</table>

<p>The 1 and 10 turn coils shown are wound through the hole in the current transformer, in the same way as if you were winding an inductor. The single turn coil simply passes through the centre - it makes no difference if the coil is open or closed outside the transformer core. The 10 turn coil requires exactly 10 turns, where a 'turn' is defined as the wire passing <i>through the hole</i>. Anything on the outside of the core doesn't count, but all turns must be in the same direction of course. (See Figure 2.) 

<p>The two 1N5404 diodes (D1 &amp; D2) are to prevent a break in the supply if/when you change ranges. The voltage across them will normally never be sufficient to cause conduction, except for the brief period when the range switch is changing between the two primary windings. Depending on the load, a very high current may be drawn if the mains is interrupted briefly. The diodes prevent this from happening. You can also use a bridge rectifier (a 10A type is suggested) with the +ve and -ve terminals shorted, which provides 4 diodes in a series/parallel circuit. 

<p>Both the range and power switch must be rated for at least 10A (preferably 20A in 120V countries), and also must be suitable for mains use. Don't even think of using mini-toggle switches - they can't handle the current and are also unsafe because they don't have good enough isolation between live parts and the metal switch body or toggle.

<p>Make sure that you select the proper range. Since the AC-1005 is rated for 5A (but will handle 10A with ease - the datasheet claims 60A but I consider that to be fairly optimistic), if the load draws more than 1-2 amps you should always use the 100mV 1A setting. When the 10 turn coil is in use, the <i>effective</i> current is actually 10A with a mains current of 1A. Readings will still be possible, but will get progressively less accurate. Worst case is that the current transformer core approaches saturation, at which point your readings will be decidedly inaccurate!</p> 


<hr /><b>Calibration</b>
<p>To calibrate the current, you'll need a suitable current source that can supply at least 100mA AC. I suggest using the output from a transformer and a suitable dummy load, such as a 25V transformer and a 220 ohm 5W resistor. You also need two accurate multimeters (preferably true RMS) as references. Wire the transformer secondary, 270 ohm resistor, one multimeter and current transformer coil circuit in series, with the multimeter set to the correct AC current range.

<p>Set VR1 to maximum resistance to start with. Connect the second multimeter (set for AC volts) to the output of the monitor. With the unit set to the 1V/A range (10 turn coil), adjust VR1 until the output voltage from the current monitor shows exactly the same as the reading shown on the multimeter. For example, if the multimeter shows 0.115A (115mA), the output from the current monitor should also be 0.115V (115mV). Next, switch over to the 1 turn coil (100mV/A), and verify that the reading falls to 11.5mV (if your meter allows that level of resolution of course). 

<p>Double check all settings and adjust carefully as needed until you are satisfied with the calibration. Because of the slight non-linearity of the current transformer you will almost certainly have to compromise. At high and low current, the output voltage may not track the input current perfectly, so you'll need to find the middle ground. I suggest that calibration at the current levels that you'll use the most should be accurate, and allow that there will be small errors at higher and lower current. In general, you should be able to get a very good usable range that's within 5%, and that's more than acceptable for a general purpose instrument such as this.

<p>As noted earlier, you can omit calibration altogether and just use a 100 ohm 1% resistor in place of R1 and VR1. I suspect that in many (if not most) cases this will be quite sufficient, unless you really need the highest possible accuracy. This is especially true if all you need to do is look at mains current waveforms or compare different items under test.</p>

<hr /><b>Final Assembly</b>
<p>Make the case ready, adding a mains outlet, switches and combination binding posts for the output. The incoming mains lead can connect using a fixed lead or an IEC socket. Remember that if you plan to use a Variac, you don't need to add anything, because the monitor is completely passive. 

<p class="t-pic"><img src="p139a-f2.gif" border="1" /><br />Figure 2 - Suggested Internal Layout (Concept)</p>

<p>Shown above is a suggestion for the internal layout. There is no indicator LED or anything else other than the parts shown in Figure 1. I used an IEC connector, because it's far more convenient than a fixed lead (I <i>hate</i> fixed leads because they always seem to get tangled in other stuff). Note that "A E N" stands for "Active (Line), Earth (Ground), Neutral". The Earth lead should be securely fixed to a metal case if used.

<p>The wiring shown is merely a suggestion, and should be used in conjunction with the photo shown in Figure 3. You will see that all mains wiring is separated from the low voltage circuit, and is cable tied to ensure it can't go anywhere that may cause a problem.  The two 1N5404 diodes and anything else that is live should be insulated with heatshrink tubing or similar.

<p class="t-pic"><img src="p139a-f3.jpg" border="1" /><br />Figure 3 - Interior Photo Of Simple Current Monitor</p>

<p>The single and 10-turn windings through the transducer must be wound with mains rated cable. Neatness is not essential - only the number of turns is important. I have some Teflon insulated wire that I used in mine, but you'll need to use what you have available. Wiring can be fixed using cable ties when the coils are wound, and that will stop them from trying to escape (which <i>will</i> happen if they are not restrained). The photo in Figure 3 shows the internals of the unit I made. The wiring to the output binding posts is close to live parts, and there is a heavy plastic piece of insulating material inserted to make certain that contact is never possible, even if the range switch becomes loose and rotates. Where appropriate, use silicone adhesive or hot-melt glue to ensure that nothing can move around in use. The two diodes are inside the heatshrink tubing that's between the two switches. All wiring (including the low voltage secondary wiring) uses mains rated cable.   

<p>I suggest that you use a standard mains outlet - either a single wall-plate or a surface mount outlet that is designed for the standard mains cable used where you live. There are many different styles, and I'm unable to cover them all. Some may be more user-friendly than others. Note that you <i>must</i> use an outlet that includes protective earth (where there is a choice), and that the incoming mains is also earthed to the case (if metal) and outlet socket.

<p>Double check your wiring, then retest the current monitor once it's fully assembled in the case. 

<p class="t-pic"><img src="p139a-f4.jpg" border="1" /><br />Figure 4 - Exterior Photo Of Simple Current Monitor</p>

<p>Figure 4 shows a photo of the exterior of the finished current monitor. It's not especially handsome, but it is clearly marked and easy to use. In case you are wondering, the  pieces of wire in the binding posts are so I can attach my oscilloscope and/or multimeter leads easily. Almost every binding post on any of my test gear has the same thing because it's generally easier than using banana plugs.
  
<p>You now have a very useful piece of test equipment. Like its big brother (P139), it's unlikely to be used every day (unless you are servicing equipment or just love testing things), but you'll wonder how you got along without it when the time comes. If it semi-permanently wired in as part of your test bench you'll find yourself using it whenever you are working on any mains powered equipment.

<p>It's also especially educational to observe the mains current waveform of different loads on an oscilloscope - you will be surprised at some of the things you see. You'll quickly discover that the vast majority of mains operated equipment (at least anything with a power supply) draws a very distorted current waveform.</p> 

<p>This is a very useful and versatile piece of test gear, and despite its simplicity is particularly well suited for use while repairing and testing equipment. It is also fascinating to examine the mains current drawn by different types of power supplies. Best results will always involve an oscilloscope. You can also examine transformer inrush current (both with and without a rectifier and filter caps on the secondary), and you can even see the current surge drawn by a conventional incandescent lamp.

<p>If you want to see some waveforms, have a look at the <a href="project139.htm#pix" target="_blank">Project 139</a> article. There are some measurements shown that are very closely matched by this design, despite the somewhat reduced bandwidth. Because there are no active parts and all impedances are quite low, resolution at very low currents is better than you might expect, even though you may only be measuring a few millivolts.</p>

<hr /><b>References</b>

<ol>
	<li><a href="ac-1005.pdf" target="_blank">Talema AC-1005 Current Transformer Datasheet</a>
</ol>


<hr />
<center>&nbsp;
<script type="text/javascript"><!--
google_ad_client = "ca-pub-1947877433449191";
/* 728x90 */
google_ad_slot = "9701674198";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<hr /><a href="projects.htm" OnMouseOver="document.b1.src='arrow.gif';" OnMouseOut="document.b1.src='a1.gif';">
<img src="a1.gif" name="b1" alt="Index" border=0 height=24 width=40 /></a><b>Projects Index</b>
<br /><a href="index2.html" OnMouseOver="document.b3.src='a.gif';" OnMouseOut="document.b3.src='a1.gif';">
<img src="a1.gif" name="b3" alt="ESP Home" border=0 /></a><b>Main Index</b><br /><br />

<table BORDER BGCOLOR="black">
<tr><td class="t-wht"><a id="copyright"></a><b>Copyright Notice.</b>This article, including but not limited to all text and diagrams, is the intellectual property of Rod Elliott, and is Copyright &copy; 2012. Reproduction or re-publication by any means whatsoever, whether electronic, mechanical or electro-mechanical, is strictly prohibited under International Copyright laws. The author grants the reader the right to use this information for personal use only, and further allow that one (1) copy may be made for reference while constructing the project. Commercial use is prohibited without express written authorisation from Rod Elliott.</td></tr>
</table>
<div class="t-sml">Page Created and Copyright &copy; Rod Elliott 29 October 2012</div>
</body>
</html>
