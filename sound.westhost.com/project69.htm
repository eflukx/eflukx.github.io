<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Rod Elliott - Elliott Sound Products">
   <meta name="keywords" content="12v, switch, switching, switchmode, power, supply, audio, project, diy, circuit, schematic, diagram">
   <meta name="description" content="ESP Audio Projects - Low Power +/-12V Switchmode power supply.  Intended for car audio systems, to power crossovers and equalisers, this switching supply is very simple to build">
   <title>Low Power 12V Switching Supply</title>
<!-- ESP Audio Projects - Low Power +/-12V Switchmode power supply.  Intended for car audio systems, to power crossovers and equalisers, this switching supply is very simple to build -->
	<link rel="StyleSheet" href="esp.css" type="text/css" media="screen, print">
	<link rel="shortcut icon" type="image/ico" href="favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<table width="100%"><tr><td><img SRC="esp.jpg" alt="ESP Logo" height=81 width=215>
<td align="right" class="tap" valign="bottom">The Audio Pages</td></table>

<table WIDTH="100%" BGCOLOR="blue"><tr><td class="hdrl">&nbsp;Elliott Sound Products</td>
<td align="right">

<script type="text/javascript"><!--
google_ad_client = "pub-1947877433449191";
/* 468x60, created 20/08/10 */
google_ad_slot = "7119701939";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</td></table>

<p align="center"><b>Switchmode Preamp Supply For Cars</b>
<br />Rod Elliott (ESP)</p>

<!-- AddThis Button BEGIN -->
<script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
<div class="addthis_toolbox addthis_default_style">
<a href="http://addthis.com/bookmark.php?v=250&amp;username=rode" class="addthis_button_compact">Share</a>
<span class="addthis_separator">|</span>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_myspace"></a>
<a class="addthis_button_google"></a>
<a class="addthis_button_twitter"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=rode"></script>
<!-- AddThis Button END -->

<hr><b>Introduction</b>
<p>The ability to use normal hi-fi circuits in car stereo systems is something I have been asked about a great many times. While it is possible to use a "voltage splitter" and create an artificial earth, this does not always work as well as might be hoped, since many of the best opamps will not operate properly on a supply of only +/-6V.

<p>With this in mind, and as part of some preliminary testing for a much bigger supply (something else I have been harangued about :-) I decided to give the present idea a try, since the data sheet for the switchmode converter I am using actually showed something along these lines - not quite, but it was enough to get me thinking about it.

<p>The design presented here is not a precision regulated supply, and has a relatively limited current, but this is the price one pays for simplicity. Simple it is, using one switchmode IC, a transformer you can wind in a few minutes, and a few other components. Even so, it is quite capable of providing a clean +/-12V DC for your preamps, equalisers or whatever you may want to use. You could even use it to power a phono preamp, but somehow I suspect that this will not be practical :-)

<p>If the core is not right, the circuit may even blow up - switching converters can be very unforgiving of incorrect transformers.

<p>This project should be seen not so much as a project in itself, but more as a learning tool to find out how switchmode supplies actually work. The risk is small with a little supply like this, and there are no high power MOSFET switches to go <b><small>bang</small></b> - this is always disheartening, but more so if you have put a lot of work into the construction (not an easy task in itself) and have high expectations for the final result.

<hr><b>Description</b>
<p>The extreme simplicity of this design is thanks to the circuitry inside the SG3525 controller IC. The two outputs have dual switching transistors, and these can be used to create a full bridge forward converter switchmode supply with the absolute minimum of external parts. As shown in Figure 1, the supply is unregulated. While this may seem to be a fundamentally bad idea, the car supply is actually reasonably well regulated at 13.8V, and this means that the output of the supply will not fluctuate very much.

<p>Since opamps are very tolerant of supply variations (especially if they are fairly low frequency), this means that the inductors that are used in nearly all switching converters can be eliminated. Inductors (and associated flyback diodes) must be used if the supply is regulated, and in the interests of simplicity, I did not want to go that way.</p>

<center><img SRC="p69-f1.gif" ALT="Figure 1" BORDER=1 height=348 width=622>
<br><b><small>Figure 1 - Switching &amp; Rectifier Circuit</small></b></center>

<p>The result is a very satisfactory supply indeed. It is hard to imagine that a single 16 pin IC and so few parts can be used to generate a +/-12V (nominal) supply, but the reality is here for all to see. Naturally, there are limitations to such a simple approach, and in this case it is available current. There are some circuits that will draw more than this little supply can provide safely, so some care will be needed to ensure that loading is within the ratings (see below for more information).

<p>The maximum recommended current for the IC's internal transistors is 400mA, but this is definitely not recommended. In my tests, an input supply current of about 150mA is the maximum you can use before the IC starts to get too hot (less is even better). Due to various losses, output current is somewhat less - this is partly due to the use of a voltage doubler output. So why not use a centre tapped secondary, you may ask. The answer is "simplicity" - this is not intended for power amplifiers, and should be cheap and easy to build. Since you have to wind the transformer yourself, it is very important that the load is perfectly balanced or the core will saturate and the IC will blow up. This is by far the easiest way to ensure perfect balance and maximum ease of construction.</p>

<center><img SRC="p69-f2.gif" ALT="Figure 2" BORDER=1 height=172 width=413>
<br><b><small>Figure 2 - Second Stage Filter</small></b></center>

<p>As shown, the noise on the supply rails is quite high, at about 50mV p-p and 100kHz. A second stage is needed, but it must be physically separated from the main supply. The complete supply as shown here should be inside a metal box to minimise radiation - this is quite high with a 50kHz switcher, so care must be taken so it does not create interference. The DC outputs can then be given some additional filtering, using a 10 ohm resistor (you will lose some voltage across it) or a pair of inductors as shown, and another set of 220uF caps. 100nF ceramic caps in parallel will also help with the high frequency components. A suitable circuit for the second stage filter is shown in Figure 2. The output from this is clean enough to feed directly to any opamp circuit without fear of audible artefacts. The inductors are readily available powdered iron toroidal types, but you can wind your own quite easily. Inductance is not critical, but higher is better - as long as winding resistance is kept fairly low.</p>

<hr><b>What The Bits Do</b>
<p>L1 (Figure 1) is an input filter choke. Although the value is specified as 100uH, you will almost certainly have to use whatever you can get hold of from your local supplier. The choke stops fast risetime transients from the car's electrical system from disturbing the circuit, and (just as importantly) prevents switching noise from interfering with other stuff in the car - the radio and engine management computer are typical examples.

<p>The zener diode should not be omitted, as this will help protect the circuit from over-voltage. Such over voltage conditions are not uncommon in a car, and are typically the result of a "load dump". A load dump occurs when the alternator is running full blast to supply a high current drain device in the car, and the voltage can easily reach 40V for an instant after the load is disconnected. If possible, I strongly suggest that a 5W zener be used for maximum protection.

<p>Where possible, I have used the same value resistors and capacitors. While the complete operation of the SG3525 will not be covered here, there are a few points are worth mentioning. C4 provides a controlled "soft start" function, where the switching pulses start off very narrow, and increase to maximum pulse width over a period of about 1 second. R5 is the timing resistor, and in conjunction with C3, sets the oscillator frequency. In this case it is about 54kHz with the values shown.

<p>R4 controls the "dead time" - a period where both outputs are switched off. This is important, as it prevents very short bursts of high current created by the finite switching time of all semiconductors. In a "real world" controller (coming soon, by the way), without a dead band, there will be a short (but finite and measurable) period when both outputs are on at the same time. This causes very high current spikes on the supply, reduces efficiency, and may lead to the destruction of the
output switches.

<p>The reference voltage is not actually used to control the switching, but is simply applied to the PWM (Pulse Width Modulation) controller. Normally, this is used to provide regulation.

<p>The transformer is a ferrite core, with windings that you must do by hand. This is not especially difficult, and will take only a few minutes. Winding details are provided below. The diodes on the secondary are critical! Those shown are marked UF4004 - "UF" means "Ultra Fast", and if 1N4004 diodes are used the circuit will fail - all standard diodes are completely incapable of switching off quickly enough for a circuit such as this.

<p>Efficiency is not especially wonderful at about 60%, and this is only partly because of the voltage doubler output. Small switchmode converters are never very efficient, and this is entirely to be expected. Likewise, since it is unregulated, the load regulation is also not all that good, however it is quite satisfactory for preamp currents of up to about 45mA or so, and this covers most of the things that car audio enthusiasts will want to do.

<p>A typical use would be to power an electronic crossover (such as the <a href="project09.htm" target="_blank">P09</a> Linkwitz-Riley design), or perhaps the <a href="project84.htm" target="_blank">P84</a> 1/3 octave bass equaliser.

<hr><b>Winding the Transformer</b>
<p>Having acquired the core (typically an FX2240 25mm diameter ferrite pot core - see <a href="#core">below</a>) and a bobbin to suit, the winding process can begin. You must use proper enamelled winding wire, and something about 0.4 to 0.5mm diameter will work fine. The primary is wound first, using 20 turns of wire. Make sure that you leave long enough "tails" to allow easy termination. The windings should be as tight as you can make them, to prevent movement - neatness is not all that important, and with the small number of turns needed it is unlikely that you will run out of room even if you make the windings messy.

<p>When the primary is complete, it should be tightly bound with some tape - plumbers' Teflon type tape is very good, but does not stick well. At a pinch, you could use a small strip of ordinary masking tape.

<p>The secondary is wound next, and requires about 25 turns of the same wire as before. Again, make sure the windings are tight and fit entirely within the bobbin. Leaving a suitable length of wire at each end for termination, tape the windings firmly. Make sure that you don't get the windings mixed up - the primary must be used as the primary!
<p>Assemble the core carefully - ferrite is quite brittle, and if you drop it (or apply too much force with the mounting screw) it will break. If broken, it cannot be mended, so don't even try. The final transformer will have a primary inductance of between 2 to 3mH - yours may be better than that, but should not be less. If your multimeter has the ability to measure inductance, then it should be tested before you wire it into the circuit.

<p>The enamel insulation should be scraped off the ends of the windings with a razor blade or hobby knife. Some enamels are "self-fluxing" so once you can get some solder onto the wire, the remaining insulation will just dissolve, allowing for complete tinning of the copper wire. Other enamels (especially the light yellow stuff) are extremely tough, and must be entirely removed by scraping before you try to solder the wires. Test a small piece of your winding wire to determine if it is self-fluxing before you get to work on your transformer.

<hr><b>Typical Performance</b>
<p>The following is based on the measurements I made on the prototype unit, and will be fairly close for most units built. Because the IC is operated in full bridge mode, the primary voltage is typically about 26V peak to peak with an input of 13.8V (no load).

<p>The AC output with no load will be about 33V p-p if you wound the transformer as described. There is a slight step-up because there are 25 turns on the secondary for 20 primary turns. The ratio is therefore about 1:1.25 - this was done to compensate for the diode voltage drop and to allow for other losses.

<p>If the supply is fairly heavily loaded, then the output voltages can be expected to fall as low as +/-11.5V - this will be at the maximum recommended load of around +/-45mA. Normally, I would recommend that the supply current be kept below +/-40mA, and this is still quite sufficient for a considerable number of opamps.

<p>For example, the TL072 opamp family has a maximum rated supply current of around 2.5mA per opamp, so 40mA is sufficient for 16 opamps (8 dual packages). This represents quite a lot of signal processing power, so the rather limited current is not as big a problem as may be imagined at first.</p>

<hr><b>Measured Performance</b>
<br>
<table width="100%"><tr><td width="10%"></td><td width="10%"><b><small>Output Voltage</small></b></td>
<td><b><small>Output Current</small></b></td></tr>
<tr><td></td><td>+/-18V</td><td>No load</td></tr>
<tr><td></td><td>+/-12.5V</td><td>35mA</td></tr>
<tr><td></td><td>+/-12.2V</td><td>40mA</td></tr>
<tr><td></td><td>+/-11.6V</td><td>46mA</td></tr>
</table>

<p>Noise and 100kHz ripple will be about 50mV peak to peak without the secondary filter. Both are almost immeasurable when the filter is used.

<hr><a id="core"></a><b>Cores and Inductors</b>
<p>Figure 3 shows an FX-2240 type ferrite core and bobbin. The outside diameter of this core is about 25mm (1"), and the bobbin just slips into the core when it is wound and taped. These are extremely easy to wind, and the complete winding can be completed in a few minutes. It actually takes longer to scrape off the enamel from the wires that it does to wind the transformer.</p>

<center><img SRC="p69-f3.jpg" alt="Figure 3" BORDER=1 height=225 width=449>
<br><b><small>Figure 3 - FX-2240 Ferrite Pot Core and Bobbin</small></b></center>

<p>I have not shown the windings, since a photo of a few turns of wire is uninspiring at best. When you join the pot cores together, use a small steel screw and a nut. It is important that you also use a nylon or fibre washer under the screw head and between the core and the nut, to protect the core. Ferrite is very brittle, and you need to take care to ensure that you don't overtighten the screw or the ferrite may break. The nylon or fibre washers provide some cushioning to help prevent breakage.

<p>When everything is complete, seal the thread with thread sealer or nail varnish so the screw doesn't come undone.</p>

<center><p><img SRC="p69-f4.jpg" ALT="Figure 4" BORDER=1 height=237 width=401>
<br><b><small>Figure 4 - Powdered Iron Toroidal Inductor</small></b></center>

<p>A powdered iron toroidal inductor suitable for both the input and second stage filters is shown above. Powdered iron is used because it has a much lower permeability than ferrite, and the DC flowing in the windings does not saturate the core. You can buy these inductors readily, wind them yourself, or salvage suitable units from an old PC power supply. The inductance is not critical - anything from about 47uH upwards will work just fine.

<hr><b>The Next Stage</b>
<p>When you have this working, you can proudly say that you have built your first switchmode power supply. If you have access to an oscilloscope, take the time to look at the waveforms, and verify the frequency. The full power version (about 300W output) is also on-line, and the controller board you have built will be perfectly suited to the high power version.

<p>Adding power MOSFETs and a much bigger transformer and diodes is pretty much all you need to do (apart from hear it go bang! very loudly if everything is not absolutely perfect). For this reason, it is important that you acquaint yourself with the general behaviour of a switching supply before embarking on the full power version.</p>

<hr />
<center>&nbsp;
<script type="text/javascript"><!--
google_ad_client = "pub-1947877433449191";
/* 468x60, created 20/08/10 */
google_ad_slot = "7119701939";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<hr /><a href="projects.htm" OnMouseOver="document.b1.src='arrow.gif';" OnMouseOut="document.b1.src='a1.gif';">
<img src="a1.gif" name="b1" alt="Index" border=0 height=24 width=40></a><b>Projects Index</b>
<br><a href="index2.html" OnMouseOver="document.b3.src='a.gif';" OnMouseOut="document.b3.src='a1.gif';">
<img src="a1.gif" name="b3" alt="ESP Home" border=0></a><b>Main Index</b><br /><br />

<table BORDER BGCOLOR="black">
<tr><td class="t-wht"><a id="copyright"></a><b>Copyright Notice.</b> This article, including but not limited to all text and diagrams, is the intellectual property of Rod Elliott, and is Copyright &copy; 2002. Reproduction or re-publication by any means whatsoever, whether electronic, mechanical or electro- mechanical, is strictly prohibited under International Copyright laws. The author (Rod Elliott) grants the reader the right to use this information for personal use only, and further allows that one (1) copy may be made for reference while constructing the project. Commercial use is prohibited without express written authorisation from Rod Elliott.</td></tr></table>
<div class="t-sml">Page Created and Copyright &copy; Rod Elliott 20 Mar 2002</div>
</body>
</html>
