<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<meta name="Author" content="Rod Elliott - Elliott Sound Products">
	<meta name="keywords" content="subwoofer, sub, woofer, linkwitz, elf, audio, project, diy, amp, preamp, crossover, test, power, supply, circuit, schematic, diagram">
	<meta name="description" content="ESP Project Pages - Linkwitz Transform Subwoofer Equaliser. If you have tried to get a sub to sound right (and go low enough), you already know that it is not easy. This simple circuit makes a huge difference.">
	<title>Linkwitz Transform Subwoofer Equaliser</title>
	<!-- ESP Project Pages - Linkwitz Transform Subwoofer Equaliser. If you have tried to get a sub to sound right (and go low enough), you already know that it is not easy. This simple circuit makes a huge difference. -->
	<link rel="StyleSheet" href="esp.css" type="text/css" media="screen, print">
	<style TYPE="text/css"><!-- td { font-size: 10pt } th { font-size: 10pt } --> </style>
	<link rel="shortcut icon" type="image/ico" href="favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<table width="100%"><tr><td><img SRC="esp.jpg" alt="ESP Logo" height=81 width=215>
<td align="right">

<script type="text/javascript"><!--
google_ad_client = "pub-1947877433449191";
/* 468x60, created 20/08/10 */
google_ad_slot = "7119701939";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</td></table>

<table WIDTH="100%" BGCOLOR="blue"><tr><td class="hdrl">&nbsp;Elliott Sound Products</td>
<td ALIGN=RIGHT class="hdrr">Project 71&nbsp;</td></tr></table>

<p align="center"><b>Subwoofer Equaliser</b>
<br />(Using The Linkwitz Transform Circuit)<br />
<small>Rod Elliott (ESP)</small></p>

<!-- AddThis Button BEGIN -->
<script type="text/javascript">
var addthis_config = {
    data_track_clickback: true
}
</script>

<script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
<div class="addthis_toolbox addthis_default_style">
<a href="http://addthis.com/bookmark.php?v=250&amp;username=rode" class="addthis_button_compact">Share</a>
<span class="addthis_separator">|</span>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_myspace"></a>
<a class="addthis_button_google"></a>
<a class="addthis_button_twitter"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=rode"></script>
<!-- AddThis Button END -->

<hr><a href="pcb/pricelist.html" target="_blank"><img SRC="pcb.gif" alt="PCB" border=0 align="left"></a>
 &nbsp; <b>Please Note:</b>&nbsp; PCBs are available for this project. Click the image for details.<br>

<hr><b>Introduction</b>
<p>The Linkwitz transform circuit is a hugely flexible way to equalise the bottom end of a sealed loudspeaker enclosure.&nbsp; Unlike the original "EAS" (Electronically Assisted Subwoofer) project or the ELF&trade; systems, a speaker that is corrected using this method is flat from below resonance to the upper limit of the selected driver. The low frequency rolloff point is determined by the parameters of the transform circuit. Should the enclosure size be too small and cause a lump in the response before rolloff, this is also corrected. A conventional active crossover network is then used to divide the subwoofer signal from the main channel signals.</p>

<p>For a detailed look at how the circuit works, please <a href="linkwitz-transform.htm">click here</a> to see the article that describes  the operation of the circuit.</p>

<p>The original Linkwitz Transform spreadsheet was presented by TrueAudio [<a href="#r2"> 2 </a>], and is reproduced here with their permission. One of my readers added an extremely useful extra page that calculates the driver response in the box, and I added the ability to use litres instead of cubic feet if desired.&nbsp; The transform circuit was invented by Siegfried Linkwitz [<a href="#r2"> 1 </a>], and is another of his gifts to the audio world (the other is the Linkwitz-Riley crossover).

<p>The Linkwitz Transform spreadsheet can be downloaded <a href="linkxfrm.zip">here</a>, or from the <a href="download.htm">Downloads</a> page.

<center><img src="p71-pic.jpg" border=1><br><b><small>Photo of Completed P71 Board</small></b></center>

<p>The photo shows the completed board, which measures 76 x 40mm (3" x 1.55"). The board has provision for parallel capacitors and series resistors to ensure that you can get close to the calculated values without difficulty.</p>

<hr><b>Driver Selection</b>
<p>A quick word is warranted here, to allow you to determine if the speaker you have will actually work in a small sealed enclosure. The Linkwitz transform circuit (or <a href="project48a.htm" target="_blank">EAS principle</a>) will allow any driver to extend to 20 Hz or even lower. A good quick test is to stick the speaker in a box, and drive it to 50 or 100W
or so at 20 Hz - you should see a lot of cone movement, a few things will rattle, but you shouldn't actually hear a tone. A "bad" speaker will generate 60 Hz (third harmonic) - if you don't hear anything, the speaker will work in an equalised sub.

<p>If a tone is audible, or the speaker shows any signs of distress (such as the cone breaking up with appropriate awful noises), then the driver cannot be used in this manner. Either find a different driver, or use a vented enclosure.

<hr><b>Description</b>
<p>The schematic for a complete equaliser is shown in Figures 1 and 2, and considering the flexibility of the circuit, it is not at all complicated. The complex part would normally be determining the component values based on the speaker driver's response in a given enclosure. This is simplified by the spreadsheet, which requires only a small amount of input from you
to be able to calculate the box response, and the equalisation needed to achieve the desired response.

<center><img SRC="p71-f1.gif" ALT="Figure 1" BORDER=1 height=332 width=685>
<br><b><font size=-1>Figure 1 - Input Mixer and Phase Switch</font></b></center>

<p>A simple mixer circuit is shown in Figure 1, and this is simply be added to the front end of the circuit in Figure 2.&nbsp; The mixer stage completely isolates each channel from the other, since the summing point is a "virtual earth" because of the feedback.&nbsp; The second opamp is used only as an inverter, so the polarity of the signal may be switched to find the optimum setting.&nbsp; When the switch is open, the phase setting of the equaliser is non-inverting (both the input and Linkwitz transformer are inverting).&nbsp; Closing the switch reverses the phase. 

<p>Figure 2 shows the circuit of the Linkwitz "transformer" (for a single channel).&nbsp; The values of the unmarked components are determined using the Linkwitz Transform calculator spreadsheet (see below for more information).&nbsp; This circuit must be driven from a low impedance, such as the output from an opamp (as shown in Figure 1).&nbsp; The output capacitor as shown is a bipolar electrolytic, but a conventional polarised electro can be used if you prefer.&nbsp; The polarity will be different with different opamps, so measure the DC output voltage (it will only be a few millivolts) to determine the correct polarity.

<p>If you don't want to use the mixer of Figure 1, to create a mono signal from a stereo source, a simple resistive mixer may be used.&nbsp; A resistive mixer requires that the source impedance from each preamp output is quite low to prevent crosstalk.&nbsp; If you are using a typical valve preamp, I suggest the use of buffer amplifiers prior to mixing, as the output impedance of most valve preamps is too high to allow resistive mixing without introducing crosstalk.&nbsp; This is not a problem if the summing inputs are used.&nbsp; In any case, the Linkwitz transform circuit will need to be driven from an opamp to ensure low source impedance.</p> 

<center><img SRC="p71-f2.gif" ALT="Figure 2" BORDER=1 height=332 width=685>
<br><b><font size=-1>Figure 2 - Linkwitz Transform Circuit</font></b></center>

<p>When designing the circuit from the spreadsheet, the dire warnings about DC gains above 20dB may be ignored, as the circuit shown has zero gain at DC.&nbsp; The input circuit has been designed to roll off (i.e. is 3dB down) at 7Hz, with a 6dB/Octave slope.&nbsp; The spreadsheet does not show this, but it must be considered regardless.

<p>I will instead issue my own dire warnings about excessive (greater than 20dB) gain at any frequency.&nbsp; Not allowing for the reduced radiating efficiency of any driver at very low frequencies, this is a simple case of determining the power requirements to obtain a flat response down to (say) 20Hz.

<p>Let's assume that the power needed at 100Hz is 25W to keep up with the main system.&nbsp; if a given design shows that there is a 3dB gain at 50Hz, this means that 50W is needed for this frequency.&nbsp; As frequency reduces, the gain increases, and each 3dB of additional gain demands double the power.&nbsp; A mere 6dB of gain requires 100W, 9dB means 200W, and 12dB of gain means that 400W will be needed.&nbsp; For a gain of 15dB, we are now into serious power requirements, with a system power of 800W.

<p>If you make the box as large as practicable, the amount of boost is reduced considerably - as always, there is a tradeoff between the allowable size of the enclosure, and how much power you are willing (or can afford) to use.&nbsp; The power limits of the driver itself must also be considered, and although most loudspeakers can tolerate transient signals higher than their rated power, they will have excessive distortion if excursion limits are exceeded.

<p>Fortunately and perhaps surprisingly, the very low bass signals typically recorded are not that loud, so you will never need the full amount determined from the estimations above.&nbsp; One thing that is essential is to use a speaker with high efficiency - the higher the better.

<hr><b>Loudspeaker Driver Selection</b>
<p>Selecting a high efficiency driver with a low free air resonance and a relatively small equivalent volume (Vas) means that the minimum amount of equalisation can be used.&nbsp; Again, each 3dB increase in efficiency means half the power is needed for the same SPL, so a speaker with 92dB/W/m is preferred over one with 89dB/W/m (all other things being equal), as
only half the power is needed for any given SPL with the more efficient driver.

<p>I will not suggest drivers, and it is entirely up to you to find suitable components based on manufacturer's details.&nbsp; I suggest that you look at loudspeakers intended for car sound systems, as these usually have a reasonable efficiency and low Vas.&nbsp; The range is enormous, and there are many excellent drivers that will not cost the earth.&nbsp; There are
also many other excellent drivers that <i>will</i> cost the earth - your choice.

<p>Apart from efficiency, Vas, resonance (etc), also consider the excursion limits of the driver.&nbsp; A speaker that has Xmax of 20mm will perform much better (and with a lot less distortion) than another similar driver with an Xmax of 10mm.&nbsp; In much the same way, a 380mm (15") speaker will produce more SPL with less excursion than a 300mm (12") speaker can.&nbsp; Also consider using multiple smaller drivers - two 300mm drivers have more cone area than a single 380mm speaker, and can move more air.

<p>A simple test for drivers is to apply a signal at 20Hz from a clean audio oscillator.&nbsp; Using an amp of about 100W or so, and with the driver mounted in an enclosure of no less than about 28 litres (1 cubic foot), increase the level until the amp starts to clip - this will be immediately audible!&nbsp; Just below the clipping level, listen carefully for any audible frequency that is not 20Hz (which itself is virtually inaudible).&nbsp; In particular, if you hear 40Hz or (more likely) 60Hz, the speaker is distorting, and generating harmonics.&nbsp; With a good driver, you should be able to see the cone rushing back and forth, but should only feel the air movement - no audible harmonics should be heard.

<hr><b>An Example Calculation</b>
<p>Let's look at a hypothetical driver with the following characteristics (these are inserted in the "Box" page) ...
<br>&nbsp;
<table width="50%">
<tr><td width="50%"><b>Measurement</b><td><b>Symbol</b><td><b>Value</b>
<tr><td>Free air resonance<td>for<td>24 Hz
<tr><td>Total Q<td>Qts<td>0.38
<tr><td>Equivalent volume<td>Vas<td>134 litres
<tr><td>Box volume<td>Vb<td>28 litres
</table>

<p>We would like to get to 20Hz (-3dB), so insert these values into the spreadsheet.&nbsp; For Q(p) (total Q of  transformed" system) of 0.8, we get a very small rise before the rolloff starts, which extends bass response marginally.

<p>Now, select a value for C2 - this will determine the values for the remaining components, and is a compromise.&nbsp; As its value is increased, the resistances needed are reduced (this is good), but the value of C1 increases (sometimes to rather large values - this is bad).</p>

<p>I have been asked for definitions of "good" and "bad" in this context, so here they are ... "good" is resistance in the range of about 2.2k up to around 220k or so.  Lower resistance loads the opamp, and higher resistance may increase noise levels.&nbsp; "Bad" capacitance values are those that are big and expensive, and if possible, I suggest that you keep the maximum capacitance below 2.2uF or so. Higher values will not hurt anything, but are bulky and expensive, or (in  the case of non-polarised electros) may be small and cheap, but have a wide tolerance so accuracy will be compromised.</p>

<p>In the end, you will have to settle on values that are probably outside these goals, and in the end, noise is not really a big problem at low frequencies.&nbsp; The primary aim is to get values that are available - designing the perfect circuit
is pointless if it won't do the job.>/p>

<p>With the selected value of 56nF for C2, the following values are calculated for the remaining components ...</p>

<table width="70%">
<tr><td><b>Component</b><td><b>Calculated Value</b><td><b>Use ...</b><td><b>Actual Value</b><td><b>Error</b>
<tr><td>R1<td>8.44 k<td>8k2 + 220R<td>8.42 k<td>0.24%
<tr><td>R2<td>36.98 k<td>33k + 3k9<td>36.9 k<td>0.22%
<tr><td>R3<td>70.32 k<td>68k + 2k2<td>70.2 k<td>0.17%
<tr><td>C1<td>1.905uF<td>1uF + 1uF<td>2 uF<td>5.0%
<tr><td>C2<td>56 nF<td>56 nF<td><td>0%
<tr><td>C3<td>228 nF<td>220 nF<td>3.5%
<tr><td>Maximum gain<td>18.41 dB<td><td><td>
</table>

<p>It will be necessary to use resistors / capacitors in series (or parallel) to obtain the required values - this can often be quite irksome, but only needs to be done once.&nbsp; A final error of up to 5% is almost certainly going to be OK, as the speaker characteristics will usually vary much more than this, and our hearing is incapable of resolving such small errors
- especially when the room acoustics interact with the total system!</p>

<center><img SRC="p71-f3.gif" ALT="Figure 3" BORDER=1 height=311 width=444>
<br><b><small>Figure 3 - Response Curves</small></b></center>

<p>Note that the maximum gain is over 18dB - this is rather high, but the energy levels at such low frequencies are actually very low as well, so although it may seem that an enormous amount of power will be needed, this is probably not really true in reality.

<p>To work this out, let's have a look at the speaker sensitivity.&nbsp; We will make an assumption that it remains constant, although this is rarely true as the frequency falls, due to the radiating efficiency of the driver itself.&nbsp; The assumption will work out well enough in practice (he says from experience).

<p>Assume a quoted efficiency of 90dB/W/m as a starting point.&nbsp; For "normal" high level listening, an SPL in the listening room might be around 100dB, which represents a power of 10W.&nbsp; Remember, this is worst case, and assumes that the LF energy level is the same as at upper frequencies.&nbsp; For all practical purposes, the lowest frequency is about 25Hz - our ears respond very poorly to anything lower.</p>

<blockquote>
	For what it is worth, a good source of a 25Hz signal is the heartbeat at the beginning of Pink Floyd's "Dark Side of the Moon".&nbsp; This
	should rattle windows, and be felt as much as heard.
</blockquote>

<p>So, 10W to get 100dB (which is pretty loud), and we have a 15dB boost at the 25Hz point.&nbsp; Since each 3dB increase involves doubling the power, we get the following ...</p>

<p>First, the power needed to get to 100dB ...</p>

<table width="60%"><tr>
<td><b>Power</b><td>1W<td>2W<td>4W<td>8W<td>10W
<tr><td><b>SPL</b><td>90dB<td>93dB<td>96dB<td>99dB<td>100dB
</table>

<p>Now, the power to maintain 100dB as the speaker rolls off and the equalisation compensates ...<br>

<table width="82%">
<tr><td><b>Power</b><td>10W<td>20W<td>40W<td>80W<td>160W<td>320W<td>640W
<tr><td><b>Boost</b><td>0dB<td>3dB<td>6dB<td>9dB<td>12dB<td>15dB<td>18dB
</table>

<p>This is not entirely correct with music signals, because the above figures are for steady state signals, and music is transient in nature (well, most of it, anyway :-).&nbsp; Peak power levels may be much higher at some frequencies, typically around 70-80Hz where kick drums make most of their noise, but the amp has copious reserve power at these frequencies.&nbsp; The underground railway rumble in that otherwise wonderful orchestral recording will be at a very low level, and most music has very little below 30Hz.&nbsp; If you enjoy pipe organ music, I suggest two to four 380mm drivers in a reasonable sized box (around 50 litres per loudspeaker), and equalised as described here.&nbsp; To get realistic response to 16Hz will require about 300W per speaker, for a quoted sensitivity of 90dB (actual figures will vary depending on the drivers selected, of course). This will be truly awesome, and if your dwelling survives, you may be able to defray some of the system costs by acquiring adjoining properties at an advantageous price :-)

<p>The biggest benefit of a subwoofer that goes to such depths is that you will find yourself listening at lower levels than before, since the "feel" that used to require an SPL of perhaps 110dB or more, is now attainable at maybe 95dB SPL.&nbsp; There is no loss of realism - indeed it is enhanced - and your ears will love you for it, and for all the right reasons.</p>
 
<hr><b>PCB Version Of Circuit</b>
<p>The PCB for this circuit is available. It has been simplified from the circuits shown above, and retains a rudimentary phase switch but no mixer. Mixing can easily be done using a pair of (say) 10k resistors from each channel to the input, provided the impedance is low enough from the preamp to prevent crosstalk. All "solid state" preamps should be fine in this respect, but valve preamps will usually have a higher output impedance than is desirable.</p>

<center><img SRC="p71-f4.gif" ALT="Figure 4" BORDER=1 height=388 width=697>
<br><b><small>Figure 4 - PCB Version, Complete Circuit</small></b></center>

<p>If you don't want to use the phase switch, the Com and N/O (Common and Normally Open) pins can be linked on board to give a non-inverting configuration (note there are two inversions in the circuit). Link Com and N/C for inverting operation.

<p>Because of the DC gain in the circuit, I suggest that you either use a non-polarised cap for C8 as shown, or measure the DC, and determine the correct polarity before this cap is installed. Because of the different way opamp inputs are configured, the output will be positive or negative, and I cannot predict which way it will go, since constructors will want to use different opamps in many cases. For example, the polarity that is correct for a TL072 will be reversed if an LM1558 were to be used, since the latter has a bipolar input instead of FETs. The exact offset voltage is also difficult to predict, but using the TL072, it should be less than 300mV. Other opamps can be expected to be similar.

<p>A polarised electrolytic can be used instead, and these can normally be expected to last (almost) forever with reverse polarity, provided the voltage (AC and DC combined) remains less than 1V at all times.

<p>This circuit was devised to be as cheap as possible to build, so provides for parallel connection of caps for C1 and C3, and series resistances for R1, R2 and R3, since these will usually be odd values (as shown above). This is more convenient than specifying E48 series resistors and trying to obtain often very odd capacitor values.</p>

<center><img src="p71-f5.gif" alt="Figure 5" border=1><br>
<b><small>Figure 5 - Simulated (Green) and Measured (Red) Response</small></b></center>

<p>Figure 5 shows the difference between the simulated and measured response of the PCB version of the circuit. Capacitors and resistors were not selected, but were used based only on their marked value. The response shown is not intended to correct any particular speaker, but was done as a test while the newest board layout was being verified. The only significant deviation is below 20Hz, and this is because the input impedance of my Clio measurement system is low enough to cause additional rolloff via C8 (I used a 1uF output cap). This has caused about 1dB extra attenuation at 20Hz, but improves the rejection of sub-sonic frequencies.

<p>As is quite obvious, the differences are small, and in the greater scheme of things can be ignored. The room will cause far greater errors than the circuit.</p>

<hr><b>References</b>
<ol>
	<li><a id="r1"></a>Siegfried Linkwitz - Active Crossover Networks for Noncoincident Drivers, JAES, Vol. 24, No. 1, January/February 1976</li>
	<li><a id="r2"></a>True Audio - The original of the Linkwitz Transform spreadsheet program</li>
</ol>

<hr />
<center>&nbsp;
<script type="text/javascript"><!--
google_ad_client = "pub-1947877433449191";
/* 468x60, created 20/08/10 */
google_ad_slot = "7119701939";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<hr /><a href="projects.htm" OnMouseOver="document.b1.src='arrow.gif';" OnMouseOut="document.b1.src='a1.gif';">
<img src="a1.gif" name="b1" alt="Index" border=0 height=24 width=40></a><b>Projects Index</b>
<br><a href="index2.html" OnMouseOver="document.b3.src='a.gif';" OnMouseOut="document.b3.src='a1.gif';">
<img src="a1.gif" name="b3" alt="ESP Home" border=0></a><b>Main Index</b><br /><br />

<table BORDER BGCOLOR="black">
<tr><td class="t-wht"><a id="copyright"></a><b>Copyright Notice.</b> This article, including but not limited to all text and diagrams, is the intellectual property of Rod Elliott, and is Copyright &copy; 2000/2001. Reproduction or re-publication by any means whatsoever, whether electronic, mechanical or electro- mechanical, is strictly prohibited under International Copyright laws. The author (Rod Elliott) grants the reader the right to use this information for personal use only, and further allows that one (1) copy may be made for reference while constructing the project. Commercial use is prohibited without express written authorisation from Rod Elliott.</td></tr>
</table>
<div class="t-sml">Page Created and Copyright &copy; Rod Elliott 14 Oct 2000</div>
</body>
</html>
